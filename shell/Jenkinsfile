pipeline {
    agent any 
        stages {
            stage('echo'){
                steps{
                    sh """
                      sudo yum install java-1.8.0-openjdk-devel wget -y
                      sudo yum install git -y 
                      sudo yum install maven -y
                    """
                }
            }
            stage('clone'){
            steps{
                git clone 'https://github.com/rajjdevops/myweb.git'
            }
        }
        stage('maven build'){
            steps{
                sh """
                cd myweb/
                mvn clean install
                
                """
            }
        }

        stage('copy artifact'){
            steps{
                sh """
                mkdir /opt/war/
                cp myweb/target/myweb-0.12.0.war /opt/war/
                """
            }
        }
    }
}
